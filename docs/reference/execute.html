<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute command on Fasttext model (including training) — execute • FastRText</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FastRText</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pommedeterresautee/FastRText">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute command on Fasttext model (including training)</h1>
    </div>

    
    <p>Use the same commands than the one to use for the command line.</p>
    

    <pre class="usage"><span class='fu'>execute</span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>commands</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>trained Fasttext model. Null if train a new model.</p></td>
    </tr>
    <tr>
      <th>commands</th>
      <td><p>character of commands</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>model</code> provided as a parameter, if any.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Supervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)

<span class='co'># prepare data</span>
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()

<span class='no'>train_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>train_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>train_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>train_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>train_labels</span>, <span class='no'>train_texts</span>)
<span class='no'>train_tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>train_to_write</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>train_tmp_file_txt</span>)

<span class='no'>test_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>test_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>test_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>test_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>test_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>test_labels</span>, <span class='no'>test_texts</span>)

<span class='co'># learn model</span>
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"supervised"</span>, <span class='st'>"-input"</span>, <span class='no'>train_tmp_file_txt</span>,
                     <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-dim"</span>, <span class='fl'>20</span>, <span class='st'>"-lr"</span>, <span class='fl'>1</span>,
                     <span class='st'>"-epoch"</span>, <span class='fl'>20</span>, <span class='st'>"-wordNgrams"</span>, <span class='fl'>2</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))

<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)
<span class='fu'>predict</span>(<span class='no'>model</span>, <span class='kw'>sentences</span> <span class='kw'>=</span> <span class='no'>test_sentences</span>[<span class='fl'>1</span>, <span class='st'>"text"</span>])</div><div class='output co'>#&gt; [[1]]
#&gt; __label__OWNX 
#&gt;     0.9980469 
#&gt; </div><div class='input'>
<span class='co'># Unsupervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)
<span class='no'>texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>texts</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>tmp_file_txt</span>)
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"skipgram"</span>, <span class='st'>"-input"</span>, <span class='no'>tmp_file_txt</span>, <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))

<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)
<span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_dictionary.html'>get_dictionary</a></span>(<span class='no'>model</span>)
<span class='fu'><a href='get_word_vectors.html'>get_word_vectors</a></span>(<span class='no'>model</span>, <span class='fu'>head</span>(<span class='no'>dict</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt; $the
#&gt;   [1]  0.154815525  0.093489371  0.096855484  0.062042344 -0.014670972
#&gt;   [6] -0.036636639 -0.132984832 -0.109266259 -0.036360659 -0.009272987
#&gt;  [11] -0.104459517 -0.001351983 -0.088996008 -0.132138968  0.047823947
#&gt;  [16]  0.324397445 -0.111102119 -0.191246763 -0.134286046  0.136481002
#&gt;  [21]  0.041048955 -0.023015400 -0.027839134  0.105578385 -0.189147800
#&gt;  [26]  0.027503496  0.332233191 -0.362044632  0.118835576  0.031056244
#&gt;  [31] -0.087496683  0.006920421 -0.168332249  0.071964443  0.256344646
#&gt;  [36] -0.177200124 -0.112104729 -0.280585349 -0.231955230 -0.264734477
#&gt;  [41] -0.041245747 -0.098617338  0.368999213 -0.065849558 -0.037672125
#&gt;  [46] -0.331686199 -0.037584744  0.135267422 -0.213788345 -0.037623376
#&gt;  [51]  0.107528515 -0.018207153  0.023599098  0.282594800 -0.067568928
#&gt;  [56] -0.182152003 -0.051011764 -0.276238114  0.065843433  0.102698512
#&gt;  [61] -0.071778938 -0.278680801  0.043461073  0.274546087 -0.083358534
#&gt;  [66] -0.132462680 -0.037346501 -0.350565314 -0.006741494 -0.042712655
#&gt;  [71] -0.032115784  0.081597701  0.008208905 -0.043369610 -0.065734878
#&gt;  [76] -0.026208812  0.075345740  0.141679764 -0.114045322  0.179567918
#&gt;  [81] -0.278829664  0.109125376 -0.032655902 -0.160586387 -0.000760920
#&gt;  [86]  0.107357159  0.121435471  0.238162085 -0.105654694 -0.252702266
#&gt;  [91]  0.111575037 -0.013807891  0.269309014 -0.114150107 -0.252197742
#&gt;  [96] -0.215041786 -0.271415502 -0.150985092 -0.055936150  0.043421347
#&gt; 
#&gt; $`&lt;/s&gt;`
#&gt;   [1]  0.195791677  0.005028371  0.046521708  0.146655202 -0.031996317
#&gt;   [6] -0.114822999 -0.143027186 -0.127222374 -0.007410416  0.017006103
#&gt;  [11] -0.166746408 -0.065452747  0.052275486 -0.183602616  0.138838440
#&gt;  [16]  0.364014953 -0.047189403 -0.159268096 -0.227469757  0.111146584
#&gt;  [21]  0.045640491 -0.099654913 -0.048732065  0.072356127 -0.216691941
#&gt;  [26] -0.073545590  0.194494441 -0.355115205  0.125587732 -0.048796687
#&gt;  [31] -0.072864227  0.121242061 -0.196048528  0.208574653  0.155160591
#&gt;  [36] -0.281882763 -0.164041042 -0.243483067 -0.266600788 -0.247728318
#&gt;  [41] -0.020265426 -0.075425223  0.334693730  0.005664828 -0.044654608
#&gt;  [46] -0.276410431 -0.011542972  0.107738510 -0.227049813 -0.040639445
#&gt;  [51]  0.014592641  0.012174010  0.030607723  0.257779837 -0.075212374
#&gt;  [56] -0.207695931 -0.002607189 -0.232208222 -0.015031834  0.104574218
#&gt;  [61] -0.114478551 -0.332344979  0.006950150  0.195774689 -0.103167318
#&gt;  [66] -0.166470796 -0.206597775 -0.271266550 -0.089168631 -0.036557857
#&gt;  [71] -0.017805470  0.115726061 -0.062311705 -0.065657184 -0.102127165
#&gt;  [76] -0.043722987  0.141366616  0.103751630 -0.171361268  0.167275935
#&gt;  [81] -0.206540346  0.127374053 -0.064698510 -0.136608943  0.005172254
#&gt;  [86]  0.026260475 -0.002446652  0.220150366 -0.164011642 -0.149941206
#&gt;  [91]  0.113034286 -0.038404346  0.144184023 -0.081739366 -0.337511212
#&gt;  [96] -0.179285929 -0.299833626 -0.205112502 -0.007477026  0.046641875
#&gt; 
#&gt; $of
#&gt;   [1]  0.2014105916 -0.0033060422  0.0423985384  0.1751080155 -0.0225264654
#&gt;   [6] -0.1268851459 -0.1366412193 -0.1330671161 -0.0133390334  0.0114019196
#&gt;  [11] -0.1612304151 -0.0651780665  0.0598822609 -0.2224139571  0.1347725540
#&gt;  [16]  0.3501072228 -0.0578950420 -0.1663993895 -0.2581527531  0.1002184600
#&gt;  [21]  0.0296561383 -0.0952133164 -0.0710508749  0.0775582939 -0.2327501625
#&gt;  [26] -0.0895593911  0.1722018421 -0.3587706983  0.1407422125 -0.0685277879
#&gt;  [31] -0.0732845515  0.1348109841 -0.2064058185  0.2370524406  0.1272703558
#&gt;  [36] -0.2723565996 -0.1855236888 -0.2183231860 -0.2705342174 -0.2398265451
#&gt;  [41] -0.0006584836 -0.0524291396  0.3259416223 -0.0154634761 -0.0573493615
#&gt;  [46] -0.2695575655  0.0013220151  0.0944618359 -0.2405795157 -0.0498925969
#&gt;  [51]  0.0087271826  0.0264029913  0.0300541855  0.2644669116 -0.0770482346
#&gt;  [56] -0.2030278742  0.0073054153 -0.2181869745 -0.0274230633  0.0982153341
#&gt;  [61] -0.1148741692 -0.3398301303 -0.0055194832  0.1859911084 -0.1134585217
#&gt;  [66] -0.1684592515 -0.2012316585 -0.2896601856 -0.0957305580 -0.0265854970
#&gt;  [71] -0.0137224663  0.1000186577 -0.0680204034 -0.0866848603 -0.0951341391
#&gt;  [76] -0.0778247863  0.1473767161  0.1033476666 -0.1785438657  0.1772383749
#&gt;  [81] -0.1977810860  0.1338717192 -0.0657735839 -0.1331399530  0.0045404173
#&gt;  [86]  0.0216530636 -0.0144855082  0.2253848165 -0.1553631276 -0.1399958879
#&gt;  [91]  0.1137641221 -0.0610179901  0.1235319078 -0.0792561248 -0.3433994651
#&gt;  [96] -0.1724795103 -0.3111047149 -0.2133824378  0.0262237247  0.0603024252
#&gt; 
#&gt; $to
#&gt;   [1]  1.862264e-01  3.886095e-02  7.156914e-02  1.062863e-01 -4.748148e-03
#&gt;   [6] -7.000110e-02 -1.619059e-01 -1.267481e-01 -2.512658e-02  1.345568e-02
#&gt;  [11] -1.403324e-01 -2.157090e-02 -1.509029e-02 -1.847695e-01  1.125806e-01
#&gt;  [16]  3.421424e-01 -6.231350e-02 -1.859892e-01 -2.091033e-01  1.154008e-01
#&gt;  [21]  5.905008e-02 -9.281071e-02 -3.007741e-02  8.499555e-02 -2.245359e-01
#&gt;  [26] -4.174978e-02  2.680391e-01 -3.764880e-01  1.230627e-01 -3.521568e-02
#&gt;  [31] -7.109168e-02  1.041081e-01 -1.930460e-01  1.831906e-01  2.071160e-01
#&gt;  [36] -2.490359e-01 -1.423976e-01 -2.700604e-01 -2.627946e-01 -2.715270e-01
#&gt;  [41] -1.720619e-02 -7.359282e-02  3.576123e-01 -6.055739e-05 -3.332953e-02
#&gt;  [46] -3.150884e-01 -9.293789e-03  1.263165e-01 -2.104679e-01 -2.967252e-02
#&gt;  [51]  3.964987e-02 -2.277981e-02  9.350718e-03  2.654193e-01 -6.620072e-02
#&gt;  [56] -2.027861e-01 -3.265862e-02 -2.456527e-01  2.797985e-02  9.736059e-02
#&gt;  [61] -9.849156e-02 -3.122808e-01  1.168239e-02  2.216818e-01 -1.045683e-01
#&gt;  [66] -1.427567e-01 -1.438830e-01 -3.083974e-01 -5.915688e-02 -3.531029e-02
#&gt;  [71] -1.663918e-02  9.427671e-02 -4.068618e-02 -5.026777e-02 -9.023284e-02
#&gt;  [76] -2.326507e-02  8.422197e-02  1.153568e-01 -1.453292e-01  1.678395e-01
#&gt;  [81] -2.410193e-01  1.273220e-01 -4.370004e-02 -1.475066e-01  2.010421e-03
#&gt;  [86]  5.242395e-02  3.291139e-02  2.493481e-01 -1.400984e-01 -1.894366e-01
#&gt;  [91]  1.070129e-01 -2.431211e-02  1.918654e-01 -9.783158e-02 -3.143266e-01
#&gt;  [96] -1.954359e-01 -2.921711e-01 -1.846683e-01 -1.512308e-02  5.088892e-02
#&gt; 
#&gt; $and
#&gt;   [1]  0.1756919324 -0.0127426442  0.0353022739  0.1536271572 -0.0233216565
#&gt;   [6] -0.1313244998 -0.1171936840 -0.1266991198 -0.0085325576  0.0179164894
#&gt;  [11] -0.1594352126 -0.0822591335  0.0574032404 -0.2010646760  0.1491724253
#&gt;  [16]  0.3663437963 -0.0500588939 -0.1585561931 -0.2373835593  0.1107512414
#&gt;  [21]  0.0334513560 -0.0955215916 -0.0584850982  0.0486123338 -0.2268350273
#&gt;  [26] -0.0979314223  0.1988013238 -0.3467367589  0.1314994693 -0.0773776621
#&gt;  [31] -0.0891000256  0.1375857890 -0.2043361515  0.2321440279  0.1542872488
#&gt;  [36] -0.2853499353 -0.1832662672 -0.2247568518 -0.2870139480 -0.2608647346
#&gt;  [41] -0.0071595772 -0.0678466856  0.3342538476  0.0069730505 -0.0439234301
#&gt;  [46] -0.2851767540 -0.0125945965  0.1108894795 -0.2313040495 -0.0607195608
#&gt;  [51]  0.0009734003  0.0099167041  0.0245772470  0.2589886189 -0.0662854090
#&gt;  [56] -0.2045203298  0.0059388303 -0.2125605941 -0.0228598472  0.1013630927
#&gt;  [61] -0.1334514618 -0.3456585109  0.0001376544  0.1764597297 -0.1062646359
#&gt;  [66] -0.1829203218 -0.2065804899 -0.2727981806 -0.0859756097 -0.0190054774
#&gt;  [71] -0.0103770532  0.1065935269 -0.0701671839 -0.0755699798 -0.0953493789
#&gt;  [76] -0.0503621139  0.1313430369  0.0875800475 -0.1738110036  0.1754933000
#&gt;  [81] -0.2033145279  0.1360841990 -0.0550906211 -0.1082885340  0.0094407117
#&gt;  [86]  0.0251822658  0.0054486115  0.2120884210 -0.1722820252 -0.1132417470
#&gt;  [91]  0.1284239590 -0.0493063293  0.1225008145 -0.0899058506 -0.3654452860
#&gt;  [96] -0.1782931536 -0.3120927513 -0.2235201746  0.0010293460  0.0471770652
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
