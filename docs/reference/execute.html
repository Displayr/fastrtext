<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute command on Fasttext model (including training) — execute • fastrtext</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">fastrtext</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/list_commands.html">List of commands</a>
    </li>
    <li>
      <a href="../articles/supervised_learning.html">Supervised learning</a>
    </li>
    <li>
      <a href="../articles/unsupervised_learning.html">Unsupervised learning</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pommedeterresautee/FastRText">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute command on Fasttext model (including training)</h1>
    </div>

    
    <p>Use the same commands than the one to use for the command line.</p>
    

    <pre class="usage"><span class='fu'>execute</span>(<span class='no'>commands</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>commands</th>
      <td><p>character of commands</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Supervised learning example</span>
<span class='fu'>library</span>(<span class='no'>fastrtext</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)

<span class='co'># prepare data</span>
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()

<span class='no'>train_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>train_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>train_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>train_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>train_labels</span>, <span class='no'>train_texts</span>)
<span class='no'>train_tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>train_to_write</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>train_tmp_file_txt</span>)

<span class='no'>test_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>test_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>test_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>test_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>test_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>test_labels</span>, <span class='no'>test_texts</span>)

<span class='co'># learn model</span>
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"supervised"</span>, <span class='st'>"-input"</span>, <span class='no'>train_tmp_file_txt</span>,
                     <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-dim"</span>, <span class='fl'>20</span>, <span class='st'>"-lr"</span>, <span class='fl'>1</span>,
                     <span class='st'>"-epoch"</span>, <span class='fl'>20</span>, <span class='st'>"-wordNgrams"</span>, <span class='fl'>2</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  5060
#&gt; Number of labels: 15
#&gt; Progress: 100.0%  words/sec/thread: 1582628  lr: 0.000000  loss: 0.289974  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='fu'>predict</span>(<span class='no'>model</span>, <span class='kw'>sentences</span> <span class='kw'>=</span> <span class='no'>test_sentences</span>[<span class='fl'>1</span>, <span class='st'>"text"</span>])</div><div class='output co'>#&gt; [[1]]
#&gt; __label__OWNX 
#&gt;     0.9980469 
#&gt; </div><div class='input'>
<span class='co'># Unsupervised learning example</span>
<span class='fu'>library</span>(<span class='no'>fastrtext</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)
<span class='no'>texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>texts</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>tmp_file_txt</span>)
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"skipgram"</span>, <span class='st'>"-input"</span>, <span class='no'>tmp_file_txt</span>, <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  2061
#&gt; Number of labels: 0
#&gt; Progress: 100.0%  words/sec/thread: 18745  lr: 0.000000  loss: 2.344696  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_dictionary.html'>get_dictionary</a></span>(<span class='no'>model</span>)
<span class='fu'><a href='get_word_vectors.html'>get_word_vectors</a></span>(<span class='no'>model</span>, <span class='fu'>head</span>(<span class='no'>dict</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt;            [,1]       [,2]        [,3]       [,4]      [,5]       [,6]
#&gt; the  0.16657479 0.19322449 -0.03368690 0.05290674 0.1155114 0.06638851
#&gt; &lt;/s&gt; 0.11025898 0.09500432 -0.13994427 0.14801379 0.1533335 0.05894960
#&gt; of   0.10575007 0.07571822 -0.16827980 0.18216881 0.1620215 0.05191242
#&gt; to   0.12777740 0.12115492 -0.09099485 0.11179613 0.1647632 0.07153372
#&gt; and  0.08364742 0.07914355 -0.14559409 0.13144526 0.1556949 0.03950758
#&gt;            [,7]          [,8]        [,9]      [,10]         [,11]       [,12]
#&gt; the  0.09597776  0.0277592558 -0.14052549 -0.4044042 -0.0671942830  0.00455737
#&gt; &lt;/s&gt; 0.11133341 -0.0023160034 -0.06783359 -0.2602001 -0.0001896276 -0.09728310
#&gt; of   0.12134071 -0.0154696926 -0.06192226 -0.2553138  0.0223790258 -0.11009338
#&gt; to   0.09504024  0.0007753531 -0.10473015 -0.3261189 -0.0245850459 -0.04541312
#&gt; and  0.13070747 -0.0033438711 -0.07160044 -0.2647713 -0.0067806151 -0.10917541
#&gt;            [,13]       [,14]       [,15]     [,16]       [,17]       [,18]
#&gt; the  -0.24680798 -0.09471181 -0.02488578 0.2588907 -0.13789314 -0.02558172
#&gt; &lt;/s&gt; -0.07432153 -0.08284165  0.09190471 0.2385992 -0.04668432 -0.05291920
#&gt; of   -0.05510818 -0.10488264  0.09717987 0.2202196 -0.05380699 -0.05211565
#&gt; to   -0.13847844 -0.09082695  0.06657398 0.2353749 -0.05490504 -0.05658782
#&gt; and  -0.07866216 -0.09741078  0.08096232 0.2254649 -0.05856346 -0.03732639
#&gt;            [,19]      [,20]      [,21]        [,22]         [,23]     [,24]
#&gt; the   0.03541528 0.06070450 -0.2476005  0.107160822 -0.0096219676 0.2362389
#&gt; &lt;/s&gt; -0.03604474 0.04132408 -0.2081749  0.004230036  0.0007165755 0.1535750
#&gt; of   -0.04687526 0.02493134 -0.2054321 -0.007732106 -0.0205295123 0.1488129
#&gt; to   -0.02881012 0.02893136 -0.2212561  0.040193737  0.0251491554 0.1712161
#&gt; and  -0.02729856 0.04515846 -0.2117293  0.003086283 -0.0132681532 0.1278442
#&gt;           [,25]      [,26]     [,27]      [,28]       [,29]        [,30]
#&gt; the  0.10055540 -0.1136540 0.2753092 -0.2700885 0.022418132  0.057200033
#&gt; &lt;/s&gt; 0.06843118 -0.1957537 0.1875948 -0.2763032 0.009820784 -0.018113524
#&gt; of   0.04624816 -0.2130996 0.1591168 -0.2884693 0.019547489 -0.045286946
#&gt; to   0.07494415 -0.1642475 0.2216947 -0.2715285 0.013903514  0.002484497
#&gt; and  0.05937219 -0.2085504 0.1979533 -0.2555722 0.001966684 -0.032815821
#&gt;           [,31]       [,32]      [,33]     [,34]        [,35]      [,36]
#&gt; the  0.13009757 -0.04266051 -0.3182544 0.1758287  0.077794239 0.04999266
#&gt; &lt;/s&gt; 0.03571961  0.07048742 -0.3849702 0.2949523 -0.027397219 0.03847167
#&gt; of   0.01777051  0.08924053 -0.4118864 0.3182863 -0.048752975 0.05527661
#&gt; to   0.07961944  0.05153928 -0.3738570 0.2640562  0.009934935 0.03198182
#&gt; and  0.02489130  0.07420140 -0.3702427 0.2792455 -0.007211014 0.04342204
#&gt;           [,37]       [,38]      [,39]       [,40]       [,41]     [,42]
#&gt; the  -0.4156176 -0.03744709 -0.1385481 -0.06119063 -0.18207340 0.2810328
#&gt; &lt;/s&gt; -0.4218339  0.01478627 -0.2064509 -0.04588045 -0.12588620 0.3189590
#&gt; of   -0.4491865  0.04747919 -0.2267209 -0.03982757 -0.09932246 0.3356282
#&gt; to   -0.4112239 -0.01745110 -0.1922488 -0.05459594 -0.13908693 0.3296912
#&gt; and  -0.4287230  0.02371937 -0.2114980 -0.04792161 -0.11681196 0.3054761
#&gt;          [,43]       [,44]      [,45]      [,46]       [,47]        [,48]
#&gt; the  0.3982586 -0.12612689 -0.1773865 -0.2995750 -0.02461490 -0.008382052
#&gt; &lt;/s&gt; 0.3562042 -0.01670223 -0.2341839 -0.2408694  0.05278787 -0.081143029
#&gt; of   0.3422501 -0.02687507 -0.2524106 -0.2306726  0.06799381 -0.100022532
#&gt; to   0.3796445 -0.03401517 -0.1987428 -0.2744994  0.03864281 -0.058729909
#&gt; and  0.3538919 -0.03726853 -0.2272323 -0.2393903  0.04536448 -0.074516118
#&gt;           [,49]      [,50]       [,51]      [,52]     [,53]      [,54]
#&gt; the  -0.1610637 0.07915372  0.10473980 -0.2268654 0.2219355 0.08317302
#&gt; &lt;/s&gt; -0.2386463 0.11551557 -0.03336657 -0.2671502 0.2079162 0.04711476
#&gt; of   -0.2540116 0.11553925 -0.04500288 -0.2591883 0.2103226 0.05084254
#&gt; to   -0.2005079 0.11576180  0.01415192 -0.2756966 0.2037610 0.06265501
#&gt; and  -0.2255565 0.09691157 -0.03766320 -0.2740831 0.2122702 0.05248119
#&gt;           [,55]      [,56]       [,57]      [,58]     [,59]       [,60]
#&gt; the  -0.2030733 -0.1569476 -0.18956159 -0.3124684 0.1834438 -0.04644143
#&gt; &lt;/s&gt; -0.1913645 -0.2006027 -0.09787788 -0.2505484 0.1246390 -0.09405565
#&gt; of   -0.1950626 -0.2014811 -0.07739984 -0.2309437 0.1057100 -0.11028506
#&gt; to   -0.1807561 -0.1821605 -0.14018594 -0.2763794 0.1551330 -0.07431936
#&gt; and  -0.1894260 -0.1967509 -0.10311291 -0.2324521 0.1246244 -0.10073519
#&gt;           [,61]        [,62]      [,63]     [,64]        [,65]      [,66]
#&gt; the  -0.2185016 -0.008675217 -0.3176304 0.3338913 0.0446754359 -0.2499751
#&gt; &lt;/s&gt; -0.2164886 -0.033249635 -0.2510545 0.2200767 0.0133068021 -0.2486864
#&gt; of   -0.2021494 -0.036166657 -0.2338769 0.1906590 0.0011106617 -0.2529103
#&gt; to   -0.2196037 -0.023995107 -0.2782598 0.2467824 0.0005683431 -0.2289782
#&gt; and  -0.2158396 -0.029694442 -0.2493436 0.2066953 0.0189691242 -0.2643094
#&gt;            [,67]      [,68]      [,69]        [,70]      [,71]      [,72]
#&gt; the   0.05448614 -0.4056783 0.10686760 -0.012966313 0.01770636 0.03962521
#&gt; &lt;/s&gt; -0.15046668 -0.3402290 0.05488807 -0.021894649 0.04129235 0.02290600
#&gt; of   -0.17146866 -0.3514133 0.03801810 -0.007732572 0.05426187 0.01010760
#&gt; to   -0.06881923 -0.3550574 0.05888493 -0.028995030 0.03132339 0.01029974
#&gt; and  -0.13735937 -0.3502956 0.07690008 -0.008838198 0.05554484 0.02003800
#&gt;           [,73]      [,74]      [,75]        [,76]        [,77]     [,78]
#&gt; the  -0.2378208 0.04420124 0.04370277 -0.004736019  0.028027149 0.3134522
#&gt; &lt;/s&gt; -0.2378994 0.04895255 0.02670329  0.031300638  0.011773514 0.2303442
#&gt; of   -0.2275560 0.03433168 0.02679155  0.009750360  0.023558872 0.2169769
#&gt; to   -0.2356521 0.05836560 0.02670818  0.041671492 -0.008868071 0.2584251
#&gt; and  -0.2441161 0.03853044 0.04769626  0.032476541  0.011465933 0.2195066
#&gt;            [,79]     [,80]       [,81]     [,82]        [,83]        [,84]
#&gt; the   0.04863408 0.1090641 -0.15427612 0.2022058 3.600492e-03 -0.002455480
#&gt; &lt;/s&gt; -0.05960059 0.1248386 -0.04404344 0.1350686 3.213224e-05  0.030473230
#&gt; of   -0.07297427 0.1287389 -0.02510727 0.1294275 3.801899e-03  0.049799498
#&gt; to   -0.03322420 0.1167865 -0.08287863 0.1635713 2.243413e-03 -0.006671592
#&gt; and  -0.04436544 0.1349317 -0.04693165 0.1390318 1.344482e-02  0.064018331
#&gt;           [,85]       [,86]     [,87]     [,88]       [,89]      [,90]
#&gt; the  0.05576932  0.00543405 0.2319619 0.2930370 -0.09137171 -0.2258438
#&gt; &lt;/s&gt; 0.06327064 -0.10143181 0.1668289 0.2673393 -0.13953206 -0.1536275
#&gt; of   0.05908662 -0.11639290 0.1623293 0.2791088 -0.12838858 -0.1446869
#&gt; to   0.05833548 -0.06542079 0.1859982 0.2798397 -0.11816087 -0.1790280
#&gt; and  0.07070275 -0.09813465 0.1742280 0.2530772 -0.14579183 -0.1383455
#&gt;          [,91]      [,92]      [,93]       [,94]      [,95]     [,96]
#&gt; the  0.1525517 0.04445765 0.16850933 -0.07834618 -0.2847042 0.1205202
#&gt; &lt;/s&gt; 0.2427151 0.07304151 0.06443984 -0.06289778 -0.2399757 0.1618817
#&gt; of   0.2573937 0.05323985 0.03919933 -0.06128313 -0.2380503 0.1653700
#&gt; to   0.2142172 0.07929431 0.09932220 -0.05406544 -0.2742408 0.1511844
#&gt; and  0.2460007 0.05868135 0.05885968 -0.07335483 -0.2634061 0.1479053
#&gt;           [,97]       [,98]       [,99]       [,100]
#&gt; the  -0.2930993 -0.01914096 -0.02436885 -0.097059563
#&gt; &lt;/s&gt; -0.1569905 -0.09067145 -0.01687350 -0.002284355
#&gt; of   -0.1468283 -0.10087237  0.01109827  0.021677034
#&gt; to   -0.2174274 -0.06820285 -0.01140603 -0.039686281
#&gt; and  -0.1573744 -0.10829733 -0.02792799 -0.002120702</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
