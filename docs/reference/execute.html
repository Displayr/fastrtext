<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute command on Fasttext model (including training) — execute • FastRText</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FastRText</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/supervised_learning.html">Supervised learning</a>
    </li>
    <li>
      <a href="../articles/unsupervised_learning.html">Unsupervised learning</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pommedeterresautee/FastRText">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute command on Fasttext model (including training)</h1>
    </div>

    
    <p>Use the same commands than the one to use for the command line.</p>
    

    <pre class="usage"><span class='fu'>execute</span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>commands</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>trained Fasttext model. Null if train a new model.</p></td>
    </tr>
    <tr>
      <th>commands</th>
      <td><p>character of commands</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>model</code> provided as a parameter, if any.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Supervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)

<span class='co'># prepare data</span>
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()

<span class='no'>train_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>train_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>train_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>train_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>train_labels</span>, <span class='no'>train_texts</span>)
<span class='no'>train_tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>train_to_write</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>train_tmp_file_txt</span>)

<span class='no'>test_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>test_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>test_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>test_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>test_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>test_labels</span>, <span class='no'>test_texts</span>)

<span class='co'># learn model</span>
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"supervised"</span>, <span class='st'>"-input"</span>, <span class='no'>train_tmp_file_txt</span>,
                     <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-dim"</span>, <span class='fl'>20</span>, <span class='st'>"-lr"</span>, <span class='fl'>1</span>,
                     <span class='st'>"-epoch"</span>, <span class='fl'>20</span>, <span class='st'>"-wordNgrams"</span>, <span class='fl'>2</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))

<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)
<span class='fu'>predict</span>(<span class='no'>model</span>, <span class='kw'>sentences</span> <span class='kw'>=</span> <span class='no'>test_sentences</span>[<span class='fl'>1</span>, <span class='st'>"text"</span>])</div><div class='output co'>#&gt; [[1]]
#&gt; __label__OWNX 
#&gt;     0.9980469 
#&gt; </div><div class='input'>
<span class='co'># Unsupervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)
<span class='no'>texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>texts</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>tmp_file_txt</span>)
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"skipgram"</span>, <span class='st'>"-input"</span>, <span class='no'>tmp_file_txt</span>, <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))

<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)
<span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_dictionary.html'>get_dictionary</a></span>(<span class='no'>model</span>)
<span class='fu'><a href='get_word_vectors.html'>get_word_vectors</a></span>(<span class='no'>model</span>, <span class='fu'>head</span>(<span class='no'>dict</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt; $the
#&gt;   [1]  0.125180125  0.145841002  0.046218894 -0.005734589  0.020904612
#&gt;   [6]  0.075204939  0.073506616 -0.014520616 -0.140289128 -0.407398582
#&gt;  [11] -0.144882619 -0.005862508 -0.219350398 -0.113690704  0.044724636
#&gt;  [16]  0.266891211 -0.095240027 -0.089130573  0.001436100  0.111304045
#&gt;  [21] -0.154489860  0.108145900 -0.032136954  0.264389366  0.183814034
#&gt;  [26] -0.134499654  0.248549268 -0.175005332 -0.019736728  0.061747894
#&gt;  [31]  0.059057683 -0.003158488 -0.412460864  0.093866698  0.059668221
#&gt;  [36]  0.053309951 -0.355076939 -0.062278140 -0.188960284 -0.049684022
#&gt;  [41] -0.094624825  0.321872294  0.359220058 -0.150258213 -0.222380280
#&gt;  [46] -0.244683027  0.004975702 -0.047903407 -0.147218496  0.079930678
#&gt;  [51]  0.016645491 -0.266448915  0.209203914  0.114840470 -0.121385790
#&gt;  [56] -0.211988077 -0.230762959 -0.308057010  0.166022971 -0.088124715
#&gt;  [61] -0.165131837 -0.072508924 -0.282854825  0.337188035  0.093404032
#&gt;  [66] -0.268050879 -0.005962419 -0.387688577  0.071687184 -0.118796915
#&gt;  [71] -0.013488535  0.022693116 -0.202681839  0.011851002  0.068788931
#&gt;  [76]  0.164226204 -0.016253201  0.282975674  0.013119740  0.205402777
#&gt;  [81] -0.064527467  0.071655385  0.067746595  0.013329323  0.076812133
#&gt;  [86]  0.019778881  0.124438055  0.332616031 -0.124553569 -0.219095707
#&gt;  [91]  0.216708437  0.106531665  0.139856607 -0.062443975 -0.215605423
#&gt;  [96]  0.127840459 -0.192066297 -0.067930147 -0.092568949 -0.047163848
#&gt; 
#&gt; $`&lt;/s&gt;`
#&gt;   [1]  0.172933981  0.062584862 -0.111670017  0.147452384  0.084343083
#&gt;   [6]  0.043193888  0.128031731  0.001169639 -0.092649974 -0.369027585
#&gt;  [11] -0.070356980 -0.081455968 -0.092138745 -0.100868560  0.128594980
#&gt;  [16]  0.220427200 -0.033590116 -0.069065429 -0.058130473  0.080950476
#&gt;  [21] -0.138944104  0.041151702 -0.012746015  0.218340337  0.135321587
#&gt;  [26] -0.200841323  0.116028018 -0.164949298 -0.013570249 -0.024097234
#&gt;  [31]  0.026322126  0.063349888 -0.439236641  0.259336323 -0.066647746
#&gt;  [36]  0.010143428 -0.369105965  0.023804449 -0.202185899 -0.045650870
#&gt;  [41] -0.070553146  0.378933668  0.303637803 -0.044771988 -0.259876341
#&gt;  [46] -0.170816377  0.035964906 -0.139606878 -0.209560081  0.114695542
#&gt;  [51] -0.071024925 -0.252211392  0.227100223  0.052265208 -0.122643635
#&gt;  [56] -0.185472712 -0.119863555 -0.267646968  0.097425550 -0.094965674
#&gt;  [61] -0.136295363 -0.069180131 -0.271622241  0.247511223  0.028388916
#&gt;  [66] -0.262647063 -0.160564825 -0.287983179 -0.011828770 -0.122517698
#&gt;  [71]  0.004985541  0.049139854 -0.198277846  0.037896067  0.029536769
#&gt;  [76]  0.155376479 -0.027603040  0.219974160 -0.103637159  0.170265436
#&gt;  [81]  0.062704094  0.067966208  0.020514702  0.040799003  0.084260456
#&gt;  [86] -0.098603338  0.069032520  0.291296661 -0.181031212 -0.147375539
#&gt;  [91]  0.256139159  0.088116035  0.041840043 -0.053415023 -0.192384511
#&gt;  [96]  0.151637569 -0.127088547 -0.089799367 -0.046942692  0.021397721
#&gt; 
#&gt; $of
#&gt;   [1]  0.1739669740  0.0507705137 -0.1353876442  0.1808636934  0.1005482227
#&gt;   [6]  0.0318524055  0.1381053478 -0.0073093805 -0.0909078419 -0.3900189996
#&gt;  [11] -0.0554836951 -0.0893970132 -0.0847814009 -0.1305300295  0.1292464882
#&gt;  [16]  0.2041954100 -0.0438236780 -0.0670317188 -0.0702661350  0.0610199049
#&gt;  [21] -0.1463762671  0.0462908968 -0.0316557921  0.2252136171  0.1196616367
#&gt;  [26] -0.2129349113  0.0876770616 -0.1766436249 -0.0007740848 -0.0410976298
#&gt;  [31]  0.0223116782  0.0725898817 -0.4514850378  0.2818308473 -0.0906907246
#&gt;  [36]  0.0253590290 -0.3894160688  0.0598045737 -0.2081670165 -0.0403628647
#&gt;  [41] -0.0507316291  0.4027713835  0.2932815850 -0.0602319986 -0.2782528698
#&gt;  [46] -0.1648610234  0.0513845049 -0.1577730030 -0.2258460522  0.1144971102
#&gt;  [51] -0.0773639157 -0.2364702523  0.2345924824  0.0521968789 -0.1297578216
#&gt;  [56] -0.1762923896 -0.1004113331 -0.2542476952  0.0845789909 -0.1027395874
#&gt;  [61] -0.1245275363 -0.0698289722 -0.2716555595  0.2406163514  0.0093549518
#&gt;  [66] -0.2656596601 -0.1633915007 -0.2990754247 -0.0214258172 -0.1150035188
#&gt;  [71]  0.0099048251  0.0418654680 -0.1873797476  0.0286993533  0.0314219445
#&gt;  [76]  0.1260577440 -0.0238239020  0.2160673141 -0.1220080331  0.1635911167
#&gt;  [81]  0.0774552971  0.0735679716  0.0121237673  0.0428544991  0.0838105753
#&gt;  [86] -0.1048431098  0.0616402104  0.2943755388 -0.1728812307 -0.1398744285
#&gt;  [91]  0.2626658380  0.0651939213  0.0246218629 -0.0463953540 -0.1833041608
#&gt;  [96]  0.1578129232 -0.1288973838 -0.0883699358 -0.0147851957  0.0375897735
#&gt; 
#&gt; $to
#&gt;   [1]  1.705974e-01  9.045408e-02 -4.913976e-02  9.764224e-02  1.003690e-01
#&gt;   [6]  7.063777e-02  9.797075e-02 -9.684589e-03 -1.184297e-01 -3.904111e-01
#&gt;  [11] -8.979015e-02 -3.460841e-02 -1.444526e-01 -1.250897e-01  1.229878e-01
#&gt;  [16]  2.294551e-01 -3.869934e-02 -9.309155e-02 -5.348685e-02  6.893073e-02
#&gt;  [21] -1.351287e-01  6.162089e-02  4.367323e-03  2.215971e-01  1.446173e-01
#&gt;  [26] -1.773503e-01  1.677401e-01 -1.656407e-01 -1.485695e-02 -4.359985e-03
#&gt;  [31]  5.387215e-02  5.706175e-02 -4.251248e-01  2.142233e-01 -2.109921e-02
#&gt;  [36]  1.371197e-02 -3.602165e-01 -2.106020e-02 -2.049029e-01 -5.644568e-02
#&gt;  [41] -6.690390e-02  3.785158e-01  3.315916e-01 -6.039748e-02 -2.317152e-01
#&gt;  [46] -2.110634e-01  4.206670e-02 -1.022118e-01 -1.736852e-01  1.121417e-01
#&gt;  [51] -4.246210e-02 -2.741513e-01  2.025025e-01  7.253650e-02 -1.130622e-01
#&gt;  [56] -2.062263e-01 -1.698629e-01 -2.905017e-01  1.344036e-01 -1.002297e-01
#&gt;  [61] -1.480540e-01 -6.687299e-02 -2.860429e-01  2.858859e-01  2.972019e-02
#&gt;  [66] -2.486799e-01 -1.098874e-01 -3.370820e-01  7.450912e-03 -1.274165e-01
#&gt;  [71] -1.571718e-03  3.228730e-02 -2.049129e-01  3.298253e-02  3.214131e-02
#&gt;  [76]  1.742141e-01 -5.751679e-02  2.470952e-01 -7.142797e-02  1.861537e-01
#&gt;  [81]  1.675670e-02  8.091880e-02  4.194747e-02  1.301495e-02  8.125096e-02
#&gt;  [86] -5.891462e-02  9.047986e-02  3.283138e-01 -1.548538e-01 -1.789333e-01
#&gt;  [91]  2.567523e-01  1.024507e-01  7.610931e-02 -5.101983e-02 -2.152840e-01
#&gt;  [96]  1.425276e-01 -1.642176e-01 -8.179770e-02 -4.859304e-02  7.607276e-05
#&gt; 
#&gt; $and
#&gt;   [1]  0.146797061  0.047956470 -0.112682708  0.132576525  0.095408872
#&gt;   [6]  0.020950425  0.150480345 -0.005739112 -0.092579231 -0.374762326
#&gt;  [11] -0.065685660 -0.102478869 -0.100114204 -0.119188771  0.124593168
#&gt;  [16]  0.209764332 -0.051195566 -0.063057184 -0.054047674  0.083583228
#&gt;  [21] -0.150522172  0.040778209 -0.018345147  0.204689309  0.131005153
#&gt;  [26] -0.225099638  0.127662897 -0.152658135 -0.024651529 -0.049872544
#&gt;  [31]  0.007515098  0.073013812 -0.448877484  0.262613297 -0.056141093
#&gt;  [36]  0.023613991 -0.389881879  0.042319722 -0.215904966 -0.052177705
#&gt;  [41] -0.062984601  0.373554587  0.302280426 -0.052258100 -0.268039376
#&gt;  [46] -0.180894151  0.040066287 -0.142973483 -0.202598363  0.099968843
#&gt;  [51] -0.081148401 -0.262390763  0.221178025  0.065614156 -0.119494721
#&gt;  [56] -0.186435565 -0.118431777 -0.251416206  0.101347357 -0.106033877
#&gt;  [61] -0.143337905 -0.070871137 -0.276211739  0.242754191  0.032303263
#&gt;  [66] -0.282821566 -0.153689086 -0.306181312  0.008456454 -0.107833065
#&gt;  [71]  0.017946253  0.037401691 -0.206739172  0.022838287  0.048597716
#&gt;  [76]  0.152430698 -0.036372848  0.209253564 -0.096602827  0.179710060
#&gt;  [81]  0.064711250  0.074395709  0.031376913  0.075309515  0.089816079
#&gt;  [86] -0.095349662  0.079820059  0.283871233 -0.187522247 -0.132568642
#&gt;  [91]  0.270525217  0.076168209  0.030446365 -0.069766983 -0.206547365
#&gt;  [96]  0.148763061 -0.126568824 -0.104792155 -0.046298984  0.026043838
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
