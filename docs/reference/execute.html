<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute command on Fasttext model (including training) — execute • FastRText</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FastRText</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/list_commands.html">List of commands</a>
    </li>
    <li>
      <a href="../articles/supervised_learning.html">Supervised learning</a>
    </li>
    <li>
      <a href="../articles/unsupervised_learning.html">Unsupervised learning</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pommedeterresautee/FastRText">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute command on Fasttext model (including training)</h1>
    </div>

    
    <p>Use the same commands than the one to use for the command line.</p>
    

    <pre class="usage"><span class='fu'>execute</span>(<span class='no'>commands</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>commands</th>
      <td><p>character of commands</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Supervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)

<span class='co'># prepare data</span>
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()

<span class='no'>train_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>train_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>train_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>train_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>train_labels</span>, <span class='no'>train_texts</span>)
<span class='no'>train_tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>train_to_write</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>train_tmp_file_txt</span>)

<span class='no'>test_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>test_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>test_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>test_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>test_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>test_labels</span>, <span class='no'>test_texts</span>)

<span class='co'># learn model</span>
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"supervised"</span>, <span class='st'>"-input"</span>, <span class='no'>train_tmp_file_txt</span>,
                     <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-dim"</span>, <span class='fl'>20</span>, <span class='st'>"-lr"</span>, <span class='fl'>1</span>,
                     <span class='st'>"-epoch"</span>, <span class='fl'>20</span>, <span class='st'>"-wordNgrams"</span>, <span class='fl'>2</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  5060
#&gt; Number of labels: 15
#&gt; Progress: 100.0%  words/sec/thread: 1453388  lr: 0.000000  loss: 0.312013  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='fu'>predict</span>(<span class='no'>model</span>, <span class='kw'>sentences</span> <span class='kw'>=</span> <span class='no'>test_sentences</span>[<span class='fl'>1</span>, <span class='st'>"text"</span>])</div><div class='output co'>#&gt; [[1]]
#&gt; __label__OWNX 
#&gt;     0.9980469 
#&gt; </div><div class='input'>
<span class='co'># Unsupervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)
<span class='no'>texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>texts</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>tmp_file_txt</span>)
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"skipgram"</span>, <span class='st'>"-input"</span>, <span class='no'>tmp_file_txt</span>, <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  2061
#&gt; Number of labels: 0
#&gt; Progress: 100.0%  words/sec/thread: 19093  lr: 0.000000  loss: 2.741071  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_dictionary.html'>get_dictionary</a></span>(<span class='no'>model</span>)
<span class='fu'><a href='get_word_vectors.html'>get_word_vectors</a></span>(<span class='no'>model</span>, <span class='fu'>head</span>(<span class='no'>dict</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt;           [,1]          [,2]        [,3]      [,4]        [,5]       [,6]
#&gt; the  0.1012665  6.857734e-05  0.04001864 0.1090707 -0.10636304 -0.1104373
#&gt; &lt;/s&gt; 0.1247176 -9.904435e-02 -0.05162894 0.1656243 -0.05473188 -0.1510162
#&gt; of   0.1240191 -9.779409e-02 -0.05564886 0.1819324 -0.03986732 -0.1645620
#&gt; to   0.1305111 -7.270953e-02 -0.02946788 0.1520105 -0.04597881 -0.1306448
#&gt; and  0.1090550 -1.156098e-01 -0.05611857 0.1787716 -0.04168488 -0.1762596
#&gt;             [,7]       [,8]        [,9]      [,10]      [,11]         [,12]
#&gt; the  -0.06369606 -0.1302481 -0.12790424 -0.1308311 -0.1685573  0.0004682338
#&gt; &lt;/s&gt; -0.05228316 -0.0951524 -0.02777147 -0.1009109 -0.1651442 -0.0266269259
#&gt; of   -0.05497212 -0.1116204 -0.03390221 -0.1238489 -0.1521562 -0.0145283816
#&gt; to   -0.08243127 -0.1106318 -0.05924915 -0.1130570 -0.1632134  0.0208118968
#&gt; and  -0.03213027 -0.1073054 -0.03422548 -0.1215560 -0.1560359 -0.0392150693
#&gt;            [,13]      [,14]     [,15]     [,16]       [,17]      [,18]
#&gt; the  -0.08435210 -0.1464375 0.1786405 0.3059871 -0.19658484 -0.1757542
#&gt; &lt;/s&gt;  0.04638103 -0.1150392 0.2370013 0.3062855 -0.06023641 -0.1121989
#&gt; of    0.04233443 -0.1507930 0.2246535 0.2952727 -0.08721089 -0.1207496
#&gt; to    0.01085423 -0.1445334 0.2369382 0.2959865 -0.09385180 -0.1422599
#&gt; and   0.04939049 -0.1388822 0.2453331 0.3003707 -0.07516827 -0.1131015
#&gt;           [,19]     [,20]     [,21]      [,22]      [,23]      [,24]      [,25]
#&gt; the  -0.2752688 0.1541936 0.1022487 -0.1364664 -0.1057010 0.13116089 -0.1595228
#&gt; &lt;/s&gt; -0.3053719 0.1463254 0.1488372 -0.2042891 -0.1365981 0.06245171 -0.1992542
#&gt; of   -0.3223205 0.1366391 0.1488134 -0.2112854 -0.1613539 0.07741738 -0.2149159
#&gt; to   -0.3165935 0.1328257 0.1607520 -0.2073784 -0.1222236 0.07981307 -0.1926112
#&gt; and  -0.3112870 0.1472598 0.1458610 -0.2044121 -0.1495140 0.04061905 -0.2037893
#&gt;            [,26]     [,27]      [,28]      [,29]       [,30]        [,31]
#&gt; the  -0.02636479 0.1868402 -0.3239257 0.06943365 -0.02992662  0.018865427
#&gt; &lt;/s&gt; -0.09280846 0.1203053 -0.3702879 0.10474316 -0.06464075 -0.009995880
#&gt; of   -0.09693671 0.1075699 -0.3788067 0.12026049 -0.08235939 -0.014938584
#&gt; to   -0.08674838 0.1430370 -0.3794468 0.10025341 -0.06467254  0.005371781
#&gt; and  -0.11110843 0.1231297 -0.3551952 0.10512041 -0.08978682 -0.029133096
#&gt;           [,32]      [,33]     [,34]     [,35]      [,36]      [,37]
#&gt; the  0.09965441 -0.1768016 0.1443383 0.2171426 -0.1377563 -0.2976291
#&gt; &lt;/s&gt; 0.17168586 -0.1930376 0.2662196 0.1466433 -0.2326076 -0.2784305
#&gt; of   0.17872259 -0.2085824 0.2742074 0.1439777 -0.2086166 -0.2972517
#&gt; to   0.17614628 -0.2163248 0.2717651 0.1714686 -0.2158151 -0.3009441
#&gt; and  0.16950962 -0.1955830 0.2687023 0.1455569 -0.2158286 -0.2841584
#&gt;            [,38]      [,39]      [,40]       [,41]       [,42]     [,43]
#&gt; the  -0.19305007 -0.2353143 -0.2179309 -0.04507299 -0.08090060 0.2491650
#&gt; &lt;/s&gt; -0.12307118 -0.2569248 -0.2592612 -0.08811413  0.02139630 0.2893771
#&gt; of   -0.09525727 -0.2611306 -0.2508959 -0.06699867  0.04221636 0.2742195
#&gt; to   -0.15115324 -0.2680599 -0.2670860 -0.06838379  0.01992539 0.2972547
#&gt; and  -0.08832154 -0.2687584 -0.2526221 -0.07464539  0.02881118 0.2749625
#&gt;            [,44]      [,45]      [,46]      [,47]      [,48]      [,49]
#&gt; the  -0.14513901 0.01807135 -0.2399323 0.03349345 0.13147096 -0.1653299
#&gt; &lt;/s&gt; -0.03530277 0.02221775 -0.1378352 0.04004355 0.07304480 -0.2127393
#&gt; of   -0.04657636 0.01204225 -0.1485323 0.06004038 0.06522015 -0.2150815
#&gt; to   -0.02943872 0.04083461 -0.1779898 0.05519996 0.08824267 -0.1996509
#&gt; and  -0.03496452 0.01881496 -0.1433033 0.04769895 0.05722794 -0.2044696
#&gt;            [,50]        [,51]       [,52]     [,53]     [,54]       [,55]
#&gt; the  -0.06642908  0.006381777 -0.03407276 0.1140145 0.3566536 -0.09477171
#&gt; &lt;/s&gt; -0.06663319 -0.069489785 -0.03856406 0.1511924 0.3544224 -0.10138873
#&gt; of   -0.06774016 -0.080175437 -0.03746474 0.1439606 0.3600910 -0.09698848
#&gt; to   -0.05615405 -0.066913582 -0.05571446 0.1304713 0.3640139 -0.09449346
#&gt; and  -0.08025918 -0.083122134 -0.03722685 0.1375211 0.3526511 -0.08574025
#&gt;           [,56]        [,57]      [,58]       [,59]         [,60]       [,61]
#&gt; the  -0.1572299 -0.060284656 -0.2089771 -0.01398633  0.0008288741 -0.11188243
#&gt; &lt;/s&gt; -0.1332404 -0.017431542 -0.2369987 -0.03682452 -0.0067252913 -0.10730156
#&gt; of   -0.1220251 -0.009339347 -0.2304989 -0.04210371 -0.0128600281 -0.09949356
#&gt; to   -0.1427707 -0.033457708 -0.2511690 -0.02359803 -0.0081228213 -0.11576788
#&gt; and  -0.1180499 -0.006806154 -0.2166957 -0.03586099 -0.0090176295 -0.10411537
#&gt;           [,62]       [,63]     [,64]         [,65]      [,66]      [,67]
#&gt; the  -0.2651080 -0.08150552 0.1953202 -0.0192354806 -0.3038076 -0.1338805
#&gt; &lt;/s&gt; -0.2635304 -0.08577869 0.1404613  0.0005223891 -0.2978640 -0.2353615
#&gt; of   -0.2729050 -0.09027550 0.1479347 -0.0137755284 -0.2960444 -0.2317489
#&gt; to   -0.2939620 -0.09399208 0.1526558 -0.0333491489 -0.2979121 -0.2345697
#&gt; and  -0.2528983 -0.08101731 0.1213745 -0.0040784809 -0.2937285 -0.2276624
#&gt;           [,68]      [,69]       [,70]      [,71]     [,72]       [,73]
#&gt; the  -0.3027481 0.10320969 -0.09625586 0.04117690 0.1923309 -0.04016851
#&gt; &lt;/s&gt; -0.2377111 0.03933448 -0.10391077 0.03153225 0.1949757 -0.06390182
#&gt; of   -0.2705162 0.03784935 -0.09304043 0.03917124 0.1701939 -0.05670578
#&gt; to   -0.2812311 0.04377109 -0.11190398 0.04666754 0.1855514 -0.06150011
#&gt; and  -0.2448744 0.04404531 -0.08531995 0.04112229 0.1662080 -0.06273539
#&gt;            [,74]       [,75]       [,76]     [,77]     [,78]      [,79]
#&gt; the  -0.07640407  0.01333008 -0.04752965 0.1240046 0.2127819 -0.1110865
#&gt; &lt;/s&gt; -0.06309521 -0.01675170 -0.05110290 0.1605288 0.1356944 -0.1834053
#&gt; of   -0.08000837 -0.01056717 -0.08225220 0.1525205 0.1396640 -0.1963781
#&gt; to   -0.06581970 -0.01626387 -0.04577838 0.1268779 0.1657000 -0.1867993
#&gt; and  -0.06731911 -0.01180192 -0.05544407 0.1368743 0.1169397 -0.1804189
#&gt;          [,80]       [,81]     [,82]       [,83]       [,84]      [,85]
#&gt; the  0.2060639 -0.12686919 0.1378735 -0.05572791 0.029517878 0.02988464
#&gt; &lt;/s&gt; 0.1225516 -0.05903206 0.1265695 -0.10263795 0.016596396 0.03707841
#&gt; of   0.1283398 -0.05296457 0.1370575 -0.09973028 0.018737415 0.03486180
#&gt; to   0.1494113 -0.08173893 0.1418462 -0.09616303 0.004633372 0.03490541
#&gt; and  0.1318543 -0.04305724 0.1285512 -0.08335663 0.046900708 0.04280704
#&gt;             [,86]       [,87]      [,88]      [,89]      [,90]     [,91]
#&gt; the   0.081960738  0.01067939 0.19609560 -0.1809966 -0.1983080 0.1420336
#&gt; &lt;/s&gt; -0.027602909 -0.08859169 0.11385535 -0.2297534 -0.1472452 0.2121818
#&gt; of   -0.020786215 -0.09555269 0.13518757 -0.2188085 -0.1469814 0.2059944
#&gt; to   -0.003654603 -0.07818901 0.17063516 -0.2145242 -0.1774106 0.2074554
#&gt; and  -0.026881108 -0.07976403 0.09714542 -0.2265218 -0.1149215 0.2186194
#&gt;             [,92]     [,93]       [,94]      [,95]      [,96]      [,97]
#&gt; the  -0.012136233 0.2013276 -0.09978892 -0.2963566 -0.1516642 -0.2120727
#&gt; &lt;/s&gt;  0.006698645 0.2061389 -0.11040003 -0.3774676 -0.1386868 -0.2349101
#&gt; of   -0.009211966 0.1937910 -0.10275295 -0.3600513 -0.1395601 -0.2447434
#&gt; to    0.011867454 0.2176014 -0.10465994 -0.3782687 -0.1363254 -0.2467485
#&gt; and  -0.004503930 0.1768255 -0.11343111 -0.3726053 -0.1362297 -0.2315780
#&gt;            [,98]       [,99]     [,100]
#&gt; the  -0.04755188 -0.02040607 0.02206747
#&gt; &lt;/s&gt; -0.16093051 -0.04501273 0.08060715
#&gt; of   -0.16309614 -0.01363613 0.08954980
#&gt; to   -0.13150218 -0.02076350 0.07952020
#&gt; and  -0.17253499 -0.03177086 0.08701275</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
