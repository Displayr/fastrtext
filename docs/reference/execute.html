<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute command on Fasttext model (including training) — execute • FastRText</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FastRText</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/list_commands.html">List of commands</a>
    </li>
    <li>
      <a href="../articles/supervised_learning.html">Supervised learning</a>
    </li>
    <li>
      <a href="../articles/unsupervised_learning.html">Unsupervised learning</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pommedeterresautee/FastRText">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute command on Fasttext model (including training)</h1>
    </div>

    
    <p>Use the same commands than the one to use for the command line.</p>
    

    <pre class="usage"><span class='fu'>execute</span>(<span class='no'>commands</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>commands</th>
      <td><p>character of commands</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Supervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)

<span class='co'># prepare data</span>
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()

<span class='no'>train_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>train_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>train_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>train_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>train_labels</span>, <span class='no'>train_texts</span>)
<span class='no'>train_tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>train_to_write</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>train_tmp_file_txt</span>)

<span class='no'>test_labels</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"__label__"</span>, <span class='no'>test_sentences</span>[,<span class='st'>"class.text"</span>])
<span class='no'>test_texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>test_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>test_to_write</span> <span class='kw'>&lt;-</span> <span class='fu'>paste</span>(<span class='no'>test_labels</span>, <span class='no'>test_texts</span>)

<span class='co'># learn model</span>
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"supervised"</span>, <span class='st'>"-input"</span>, <span class='no'>train_tmp_file_txt</span>,
                     <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-dim"</span>, <span class='fl'>20</span>, <span class='st'>"-lr"</span>, <span class='fl'>1</span>,
                     <span class='st'>"-epoch"</span>, <span class='fl'>20</span>, <span class='st'>"-wordNgrams"</span>, <span class='fl'>2</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  5060
#&gt; Number of labels: 15
#&gt; Progress: 100.0%  words/sec/thread: 1478622  lr: 0.000000  loss: 0.319298  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='fu'>predict</span>(<span class='no'>model</span>, <span class='kw'>sentences</span> <span class='kw'>=</span> <span class='no'>test_sentences</span>[<span class='fl'>1</span>, <span class='st'>"text"</span>])</div><div class='output co'>#&gt; [[1]]
#&gt; __label__OWNX 
#&gt;     0.9980469 
#&gt; </div><div class='input'>
<span class='co'># Unsupervised learning example</span>
<span class='fu'>library</span>(<span class='no'>FastRText</span>)

<span class='fu'>data</span>(<span class='st'>"train_sentences"</span>)
<span class='fu'>data</span>(<span class='st'>"test_sentences"</span>)
<span class='no'>texts</span> <span class='kw'>&lt;-</span> <span class='fu'>tolower</span>(<span class='no'>train_sentences</span>[,<span class='st'>"text"</span>])
<span class='no'>tmp_file_txt</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='no'>tmp_file_model</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>writeLines</span>(<span class='kw'>text</span> <span class='kw'>=</span> <span class='no'>texts</span>, <span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>tmp_file_txt</span>)
<span class='fu'>execute</span>(<span class='kw'>commands</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"skipgram"</span>, <span class='st'>"-input"</span>, <span class='no'>tmp_file_txt</span>, <span class='st'>"-output"</span>, <span class='no'>tmp_file_model</span>, <span class='st'>"-verbose"</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; Read 0M words
#&gt; Number of words:  2061
#&gt; Number of labels: 0
#&gt; Progress: 100.0%  words/sec/thread: 18509  lr: 0.000000  loss: 2.641768  eta: 0h0m </div><div class='input'>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='load_model.html'>load_model</a></span>(<span class='no'>tmp_file_model</span>)</div><div class='output co'>#&gt; <span class='message'>add .bin extension to the path</span></div><div class='input'><span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_dictionary.html'>get_dictionary</a></span>(<span class='no'>model</span>)
<span class='fu'><a href='get_word_vectors.html'>get_word_vectors</a></span>(<span class='no'>model</span>, <span class='fu'>head</span>(<span class='no'>dict</span>, <span class='fl'>5</span>))</div><div class='output co'>#&gt;            [,1]        [,2]        [,3]        [,4]      [,5]        [,6]
#&gt; the  0.06916892 -0.02477791 -0.07183575 -0.17888774 0.2341704 -0.06624010
#&gt; &lt;/s&gt; 0.04954059 -0.11453823 -0.10947508 -0.12067570 0.2447199 -0.06733499
#&gt; of   0.04233371 -0.13105664 -0.13596006 -0.09235514 0.2761256 -0.07947863
#&gt; to   0.06378431 -0.08851141 -0.08966211 -0.13686538 0.2531638 -0.05010759
#&gt; and  0.02568305 -0.13196377 -0.13086312 -0.10237810 0.2602473 -0.08297155
#&gt;            [,7]       [,8]         [,9]      [,10]      [,11]        [,12]
#&gt; the  0.04473154 -0.1609816 -0.029142302 -0.3403302 -0.1801456  0.010130203
#&gt; &lt;/s&gt; 0.05944325 -0.1398407  0.023104241 -0.3369897 -0.1853619 -0.001781353
#&gt; of   0.08112773 -0.1527374  0.031838458 -0.3549923 -0.1774193 -0.006602179
#&gt; to   0.03771248 -0.1507889  0.000962505 -0.3276467 -0.1768230  0.028478157
#&gt; and  0.08966516 -0.1437289  0.023284860 -0.3358505 -0.1712947 -0.027336629
#&gt;            [,13]      [,14]     [,15]     [,16]        [,17]      [,18]
#&gt; the  -0.12356544 -0.1977292 0.2638386 0.2458075 -0.062710159 -0.3320128
#&gt; &lt;/s&gt;  0.01230540 -0.1973414 0.2799253 0.2192877 -0.006130981 -0.2795353
#&gt; of    0.02867692 -0.2383328 0.2921446 0.2094913 -0.016561771 -0.2848172
#&gt; to   -0.03222976 -0.2135213 0.2867359 0.2118066 -0.007491965 -0.3013317
#&gt; and   0.02639317 -0.2075601 0.2813552 0.1983466 -0.008234151 -0.2785406
#&gt;            [,19]     [,20]      [,21]         [,22]      [,23]        [,24]
#&gt; the  -0.04759959 0.1750451 -0.1611128  0.0002582266 0.08596981 -0.009724300
#&gt; &lt;/s&gt; -0.14178610 0.1522017 -0.1257385 -0.0521199070 0.08892739 -0.005418268
#&gt; of   -0.16607289 0.1453130 -0.1289709 -0.0645110607 0.07366265  0.001651033
#&gt; to   -0.12407282 0.1405363 -0.1292258 -0.0336895287 0.10681585 -0.011040687
#&gt; and  -0.15264709 0.1517138 -0.1226892 -0.0650725067 0.08500452 -0.028677888
#&gt;            [,25]       [,26]     [,27]      [,28]     [,29]      [,30]
#&gt; the  -0.02956813 -0.01724646 0.3887151 -0.1736270 0.1770373 0.15170702
#&gt; &lt;/s&gt; -0.04934087 -0.09191656 0.2876673 -0.2086918 0.1686437 0.10089642
#&gt; of   -0.06047729 -0.11708974 0.2652999 -0.2401512 0.1840872 0.08377904
#&gt; to   -0.04352433 -0.07579473 0.3227096 -0.2028481 0.1721338 0.10734897
#&gt; and  -0.04642189 -0.12798576 0.2798597 -0.2090490 0.1682225 0.07325464
#&gt;           [,31]        [,32]      [,33]       [,34]     [,35]       [,36]
#&gt; the  -0.1456283 -0.055864774 -0.2716140 -0.04668812 0.4421874 -0.04072584
#&gt; &lt;/s&gt; -0.1789008 -0.015953168 -0.3464637  0.04360529 0.3502868 -0.07843715
#&gt; of   -0.2019368 -0.010454634 -0.3840461  0.08562604 0.3397586 -0.06706073
#&gt; to   -0.1599572 -0.018501984 -0.3316864  0.03479222 0.3688357 -0.07456250
#&gt; and  -0.2038739 -0.005788025 -0.3701855  0.07511001 0.3714356 -0.07166436
#&gt;            [,37]      [,38]      [,39]      [,40]      [,41]      [,42]
#&gt; the  -0.09042348 -0.1989765 -0.1720838 -0.1768399 -0.1850722 0.08143398
#&gt; &lt;/s&gt; -0.09368988 -0.1599489 -0.1838296 -0.1749011 -0.2006688 0.17646873
#&gt; of   -0.12346600 -0.1336177 -0.2050439 -0.1752856 -0.1966209 0.21336752
#&gt; to   -0.09038797 -0.1782079 -0.1939149 -0.1775197 -0.1889375 0.16632488
#&gt; and  -0.11362321 -0.1315392 -0.2025319 -0.1837161 -0.1872186 0.18813506
#&gt;          [,43]       [,44]      [,45]      [,46]     [,47]     [,48]
#&gt; the  0.3310437 -0.02768586 -0.2732694 -0.2897595 0.1105103 0.2369659
#&gt; &lt;/s&gt; 0.2941648  0.04942153 -0.2623143 -0.2709890 0.1536528 0.1750918
#&gt; of   0.2931629  0.04446655 -0.2839356 -0.2776461 0.1879060 0.1628163
#&gt; to   0.3020473  0.04254377 -0.2579298 -0.2864515 0.1531249 0.1862345
#&gt; and  0.2883850  0.05579232 -0.2647163 -0.2678002 0.1644497 0.1643115
#&gt;             [,49]     [,50]        [,51]         [,52]     [,53]       [,54]
#&gt; the  -0.012318890 0.1471380  0.060426012 -0.0059340033 0.1503988  0.04645094
#&gt; &lt;/s&gt; -0.011452409 0.1699800 -0.019022627 -0.0005292546 0.1851002 -0.02171470
#&gt; of   -0.024910977 0.1774447 -0.038759217  0.0160836168 0.2026542 -0.02671805
#&gt; to    0.002712174 0.1766538  0.003180173 -0.0236385781 0.1637145 -0.01003372
#&gt; and  -0.009937457 0.1600213 -0.040120594 -0.0079605570 0.1927622 -0.02608945
#&gt;            [,55]      [,56]      [,57]      [,58]       [,59]     [,60]
#&gt; the  -0.04896463 -0.1970883 0.04481700 -0.2769500 -0.08029192 0.1118081
#&gt; &lt;/s&gt; -0.03920000 -0.1930494 0.05671787 -0.2464900 -0.11441042 0.1277591
#&gt; of   -0.04062036 -0.1920813 0.07813935 -0.2496013 -0.12561129 0.1288487
#&gt; to   -0.02923305 -0.2008517 0.04768775 -0.2590617 -0.09573071 0.1281418
#&gt; and  -0.03371698 -0.1870271 0.07275393 -0.2201652 -0.11356978 0.1156370
#&gt;           [,61]       [,62]      [,63]       [,64]       [,65]       [,66]
#&gt; the  -0.2105859 0.001865391 -0.1377784  0.04026446 -0.05718026 -0.01820853
#&gt; &lt;/s&gt; -0.1971559 0.011885260 -0.1544880 -0.03524614 -0.13330187  0.04377703
#&gt; of   -0.2083554 0.014735746 -0.1699944 -0.04620232 -0.15033069  0.05128144
#&gt; to   -0.2019046 0.005580147 -0.1586927 -0.01897234 -0.13671438  0.04080929
#&gt; and  -0.2194898 0.017738750 -0.1640674 -0.05585323 -0.13523380  0.03209175
#&gt;           [,67]      [,68]       [,69]       [,70]      [,71]      [,72]
#&gt; the  0.16620131 0.05704162  0.01205513 -0.03611860 0.01994080 0.04637419
#&gt; &lt;/s&gt; 0.05368010 0.10668020 -0.04877073 -0.03483409 0.03218292 0.06223596
#&gt; of   0.04438052 0.09585314 -0.06608012 -0.02880123 0.04667230 0.04326206
#&gt; to   0.08538940 0.08803244 -0.04527352 -0.03844352 0.03226346 0.05302338
#&gt; and  0.03970519 0.10299682 -0.04593469 -0.02207846 0.04557272 0.05064807
#&gt;             [,73]         [,74]      [,75]      [,76]       [,77]       [,78]
#&gt; the  -0.006149136 -0.0165920369 0.12898672 0.05691545 -0.01405375  0.03309092
#&gt; &lt;/s&gt; -0.027109222 -0.0108989598 0.09209318 0.08317796  0.01985266 -0.03607223
#&gt; of   -0.034943994 -0.0263594519 0.09799033 0.06306861  0.02222977 -0.03751524
#&gt; to   -0.025158837 -0.0008358222 0.09457751 0.09658957 -0.02573565 -0.02129725
#&gt; and  -0.039996054 -0.0191313978 0.10360911 0.07878654  0.01287825 -0.04784055
#&gt;            [,79]     [,80]       [,81]     [,82]      [,83]     [,84]
#&gt; the  -0.03534586 0.1541876 -0.03619960 0.3180795 0.05084871 0.2074307
#&gt; &lt;/s&gt; -0.12984331 0.1288763  0.02692465 0.3464121 0.03652590 0.1762368
#&gt; of   -0.15404746 0.1291944  0.05485427 0.3738790 0.03167749 0.1938516
#&gt; to   -0.11018116 0.1301652  0.01100165 0.3485679 0.04304749 0.1786443
#&gt; and  -0.14562707 0.1365220  0.04592993 0.3535731 0.04085306 0.2155094
#&gt;            [,85]        [,86]     [,87]       [,88]       [,89]        [,90]
#&gt; the  -0.09882452 -0.005501232 0.1756580 0.042843115 -0.03537975 -0.033196434
#&gt; &lt;/s&gt; -0.07395709 -0.108222194 0.1344417 0.029566711 -0.03694218  0.017778475
#&gt; of   -0.07600102 -0.129024953 0.1287988 0.028253786 -0.02625243  0.028625552
#&gt; to   -0.08831681 -0.088226393 0.1480658 0.052924506 -0.02620874  0.002689838
#&gt; and  -0.05960936 -0.119351074 0.1406230 0.004231188 -0.04180164  0.044154380
#&gt;          [,91]     [,92]     [,93]       [,94]      [,95]        [,96]
#&gt; the  0.2174546 0.1371620 0.1449415 -0.09020726 -0.2296024 -0.061726075
#&gt; &lt;/s&gt; 0.2668425 0.1358957 0.1207524 -0.03694662 -0.2378735  0.003566491
#&gt; of   0.2965833 0.1274367 0.1121314 -0.03622978 -0.2412811  0.017462196
#&gt; to   0.2620811 0.1446419 0.1248251 -0.04811100 -0.2433399 -0.010666380
#&gt; and  0.2982163 0.1300065 0.1060084 -0.04651383 -0.2584549  0.016839337
#&gt;            [,97]      [,98]       [,99]     [,100]
#&gt; the  -0.11080296 -0.2190868 -0.15032899 -0.3019539
#&gt; &lt;/s&gt; -0.08334415 -0.2893667 -0.10135455 -0.2443023
#&gt; of   -0.09459355 -0.3174930 -0.07357714 -0.2395872
#&gt; to   -0.10098217 -0.2647936 -0.10054438 -0.2637690
#&gt; and  -0.08423421 -0.3140536 -0.09548263 -0.2356910</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
